

window.SearchIndexing = Master.extend({
	url : apiHost + "search/index",
	type : "SearchIndexing"
});

window.SearchIndexing = Master.extend({
	url : apiHost + "search/index",
	type : "SearchIndexing"
});
window.HousekeepingView = BaseView.extend({

    tagName:"div", // Not required since 'div' is the default if no el or tagName specified

    initialize:function () {
        this.template = _.template(tpl.get('details_housekeeping'));
        
        this.render();
        
    },

    events:{
    	 "click #btn_searchindex":"searchIndex"
    },
    
    searchIndex:function () {
    	$('#response_header').html('');
		
    	var progress_bar = '<div class="progress progress-striped active" id="process_progress">'+
    	'<div class="progress-bar" style="width: 100%;" id="process_progress"></div>'+
    	'</div>';
    	
    	
    	$('#alerts').html('');
    	$('#alerts_success').html('');
		
    	
    	$('#process_progress').html(progress_bar);
    	
    	var extracted = "";
    	var informationObjectName = "";
    	
    	var information = null;
    	
    	var housekeepingJob = new SearchIndexing();
    	//housekeepingJob.url += "search/index";
    	
    	searchIndexPromise = housekeepingJob.fetch();
    	
    	$.when(searchIndexPromise).then(function() {
			var alert_msg = '<div class="alert alert-success">'+
			'Indexing Successfull'+
			'</div>';
			
			$('#alerts_success').html(alert_msg);
    		
    		
    		$('#process_progress').html('');
    	}, function(anyError) {
    		  //alert('Something went wrong.' + anyError);
    	});
			
    	
    	return false;
    },
    render: function () {
    	this.$el.html(this.template());
		
        this.renderTitle();
  		
        return this;
    }
});
		
window.HousekeepingView = BaseView.extend({

    tagName:"div", // Not required since 'div' is the default if no el or tagName specified

    initialize:function () {
        this.template = _.template(tpl.get('details_housekeeping'));
        
        this.render();
        
    },

    events:{
    	 "click #btn_searchindex":"searchIndex"
    },
    
    searchIndex:function () {
    	$('#response_header').html('');
		
    	var progress_bar = '<div class="progress progress-striped active" id="process_progress">'+
    	'<div class="progress-bar" style="width: 100%;" id="process_progress"></div>'+
    	'</div>';
    	
    	
    	$('#alerts').html('');
    	$('#alerts_success').html('');
		
    	
    	$('#process_progress').html(progress_bar);
    	
    	var extracted = "";
    	var informationObjectName = "";
    	
    	var information = null;
    	
    	var housekeepingJob = new SearchIndexing();
    	//housekeepingJob.url += "search/index";
    	
    	searchIndexPromise = housekeepingJob.fetch();
    	
    	$.when(searchIndexPromise).then(function() {
			var alert_msg = '<div class="alert alert-success">'+
			'Indexing Successfull'+
			'</div>';
			
			$('#alerts_success').html(alert_msg);
    		
    		
    		$('#process_progress').html('');
    	}, function(anyError) {
    		  //alert('Something went wrong.' + anyError);
    	});
			
    	
    	return false;
    },
    render: function () {
    	this.$el.html(this.template());
		
        this.renderTitle();
  		
        return this;
    }
});
		
window.DatabaseRestore = Master.extend({
	url : apiHost + "development/database/restore",
	type : "DatabaseRestore"
});
window.SearchIndexing = Master.extend({
	url : apiHost + "search/index",
	type : "SearchIndexing"
});
window.DevelopmentView = BaseView.extend({

    tagName:"div", // Not required since 'div' is the default if no el or tagName specified

    initialize:function () {
        this.template = _.template(tpl.get('details_development'));
        
        this.render();
        
    },

    events:{
    	 "click #btn_restore_km":"restoreKM"
    },
    
    restoreKM:function () {
    	$('#response_header').html('');
		
    	var progress_bar = '<div class="progress progress-striped active" id="process_progress">'+
    	'<div class="progress-bar" style="width: 100%;" id="process_progress"></div>'+
    	'</div>';
    	
    	
    	$('#alerts').html('');
    	$('#alerts_success').html('');
		
    	
    	$('#process_progress').html(progress_bar);
    	
    	var extracted = "";
    	var informationObjectName = "";
    	
    	var information = null;
    	
    	var restoreJob = new DatabaseRestore();
    	//housekeepingJob.url += "search/index";
    	
    	restoreKMPromise = restoreJob.fetch();
    	
    	$.when(restoreKMPromise).then(function() {
			var alert_msg = '<div class="alert alert-success">'+
			'Restore Successfull'+
			'</div>';
			
			$('#alerts_success').html(alert_msg);
    		
    		
    		$('#process_progress').html('');
    	}, function(anyError) {
    		  //alert('Something went wrong.' + anyError);
    	});
			
    	
    	return false;
    },
    render: function () {
    	this.$el.html(this.template());
		
        this.renderTitle();
  		
        return this;
    }
});
		
window.HousekeepingView = BaseView.extend({

    tagName:"div", // Not required since 'div' is the default if no el or tagName specified

    initialize:function () {
        this.template = _.template(tpl.get('details_housekeeping'));
        
        this.render();
        
    },

    events:{
    	 "click #btn_searchindex":"searchIndex"
    },
    
    searchIndex:function () {
    	$('#response_header').html('');
		
    	var progress_bar = '<div class="progress progress-striped active" id="process_progress">'+
    	'<div class="progress-bar" style="width: 100%;" id="process_progress"></div>'+
    	'</div>';
    	
    	
    	$('#alerts').html('');
    	$('#alerts_success').html('');
		
    	
    	$('#process_progress').html(progress_bar);
    	
    	var extracted = "";
    	var informationObjectName = "";
    	
    	var information = null;
    	
    	var housekeepingJob = new SearchIndexing();
    	//housekeepingJob.url += "search/index";
    	
    	searchIndexPromise = housekeepingJob.fetch();
    	
    	$.when(searchIndexPromise).then(function() {
			var alert_msg = '<div class="alert alert-success">'+
			'Indexing Successfull'+
			'</div>';
			
			$('#alerts_success').html(alert_msg);
    		
    		
    		$('#process_progress').html('');
    	}, function(anyError) {
    		  //alert('Something went wrong.' + anyError);
    	});
			
    	
    	return false;
    },
    render: function () {
    	this.$el.html(this.template());
		
        this.renderTitle();
  		
        return this;
    }
});
		